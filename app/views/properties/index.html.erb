<div class="w-full">
  <div class="text-center mb-8 w-full">
    <h1 class="text-4xl font-bold leading-tight text-gray-900 mb-2">Justin's list of Sumner Properties</h1>
    <p class="text-xl text-gray-700">A list of properties with key details.</p>
  </div>
  <div class="flex justify-end mb-2">
    <%= link_to "Clear Filters ", properties_path, 
                class: "text-sm text-indigo-600 hover:text-indigo-800 cursor-pointer", 
                data: { turbo_frame: "properties" } %>
  </div>
  <div class="space-y-2 w-full">
    <%= form_with url: properties_path, method: :get, data: { turbo_frame: "properties" }, class: "flex items-center space-x-2 mb-8" do |f| %>
      <div class="flex-grow w-11/12">
        <div class="mt-2 flex rounded-md shadow-sm">
          <div class="relative flex flex-grow items-stretch focus-within:z-10">
            <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
              <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
              </svg>
            </div>
            <%= f.text_field :address, 
                placeholder: "Type address here...",
                oninput: "this.form.requestSubmit();",
                class: "block w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
          </div>
          <button type="button" onclick="toggleSlideover()" class="relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 cursor-pointer">
            <svg class="mr-2 h-5 w-5 flex-none text-gray-400 group-hover:text-gray-500" aria-hidden="true" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.591L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z" clip-rule="evenodd" />
            </svg>
            Filter
          </button>
        </div>
      </div>
    <% end %>

    <div class="mt-8 w-full">
      <%= turbo_frame_tag "properties" do %>
        <%= render partial: "property_stats", locals: { properties: @properties } %>
        <%= render partial: "properties_table", locals: { properties: @properties, pagy: @pagy } %>
        <%= turbo_frame_tag "properties-pagination" do %>
          <%= render partial: "load_more", locals: { pagy: @pagy } %>
        <% end %>
      <% end %>
    </div>
  </div>
  <%= render partial: "modal" %>

  <div class="flex items-center justify-center w-full">
    <%= render partial: 'slideover_new' %>
  </div>
</div>
