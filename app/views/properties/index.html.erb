<div class="px-4 sm:px-6 lg:px-8">
  <div class="text-center mb-8">
    <h1 class="text-4xl font-bold leading-tight text-gray-900 mb-2">Properties</h1>
    <p class="text-xl text-gray-700">A list of properties with key details.</p>
  </div>

# The thing to do here now is to include a search bar that dynamically searches the address only

  <%= form_with url: root_path, method: :get, data: { turbo_frame: :properties} do %>
    <%= label_tag "address", "Address:", class: "block text-sm font-medium leading-6 text-gray-900" %>
    <%= text_field_tag "address", nil, placeholder: "Type address here...",  class: "mt-2 block w-full rounded-md border-0 py 1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
  <% end %>

  <div class="mt-8 flow-root">
    <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
        <table class="min-w-full divide-y divide-gray-300">
          <thead class="bg-white">
            <tr>
              <th scope="col" class="py-5 px-10 text-left text-sm font-semibold text-gray-900 sm:pl-3">Address</th>
              <th scope="col" class="px-10 py-5 text-left text-sm font-semibold text-gray-900">Sale Price</th>
              <th scope="col" class="px-10 py-5 text-left text-sm font-semibold text-gray-900">Sold Date</th>
              <th scope="col" class="px-10 py-5 text-left text-sm font-semibold text-gray-900">Bedrooms</th>
              <th scope="col" class="px-10 py-5 text-left text-sm font-semibold text-gray-900">Bathrooms</th>
              <th scope="col" class="px-10 py-5 text-left text-sm font-semibold text-gray-900">Floor Area</th>
              <th scope="col" class="px-10 py-5 text-left text-sm font-semibold text-gray-900">Land Area</th>
              <th scope="col" class="relative py-5 px-10 sm:pr-3">
                <span class="sr-only">View</span>
              </th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 bg-white">
            <% @properties.group_by(&:suburb).each do |suburb, properties| %>
              <tr class="border-t border-gray-200">
                <th colspan="8" scope="colgroup" class="bg-gray-50 py-2 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3"><%= suburb %></th>
              </tr>
              <%= render partial: 'property', collection: properties %>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

# oninput: "this.form.requestSubmit();",